<!-- Table structure for displaying supply items -->
<div id="supplies_table">
  <table class="min-w-full divide-y divide-gray-200 text-sm">
    <!-- Table Header with column definitions -->
    <thead>
      <tr>
        <!-- Supply Name Column Header -->
        <th class="px-4 py-2 text-left font-medium text-gray-500 uppercase">Insumo</th>
        <!-- USD Price Column Header -->
        <th class="px-4 py-2 text-left font-medium text-gray-500 uppercase">Precio USD</th>
        <!-- Peso Price Column Header -->
        <th class="px-4 py-2 text-left font-medium text-gray-500 uppercase">Precio Pesos</th>
      </tr>
    </thead>
    <!-- Table Body containing supply rows -->
    <tbody class="divide-y divide-gray-100">
      <!-- Loop through basic supplies and render each row -->
      <% Supply.basics.each do |supply| %>
        <%= render "supplies/partials/row_supply", supply: supply %>
      <% end %>
    </tbody>
  </table>
</div>

<script>
  // Inline editing functions for supply prices
  function startEdit(supplyId) {
    // Hide price display and edit button
    document.getElementById('price_display_' + supplyId).style.display = 'none';
    document.getElementById('edit_btn_' + supplyId).style.display = 'none';
    
    // Show edit form
    document.getElementById('edit_form_' + supplyId).classList.remove('hidden');
    document.getElementById('edit_form_' + supplyId).classList.add('flex');
    
    // Focus on input field
    const input = document.querySelector('#edit_form_' + supplyId + ' input[type="number"]');
    if (input) {
      input.focus();
      input.select();
    }
  }
  
  function cancelEdit(supplyId) {
    // Show price display and edit button
    document.getElementById('price_display_' + supplyId).style.display = 'inline';
    document.getElementById('edit_btn_' + supplyId).style.display = 'inline-flex';
    
    // Hide edit form
    document.getElementById('edit_form_' + supplyId).classList.add('hidden');
    document.getElementById('edit_form_' + supplyId).classList.remove('flex');
  }
</script>
